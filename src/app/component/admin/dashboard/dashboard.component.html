<app-header-admin [title_header]="'Dashboard'" [title_btn]="'Statistic'" />
<div class="container-fluid row">
    <div class="col-12 col-md-6 col-xl-3 ">
        <div class="statis-item  ">
            <div class="row">
                <div class="col-6 col-md-8  d-flex flex-column ps-4 pt-2  ">
                    <span>Revenue Today </span><span style="font-size: 0.6rem;"> ({{dataRevenueToday?.revenueTodayDate |
                        date:'dd/MM/yyyy' }})</span>
                    <strong style="font-size: 1.3rem;">{{ dailyRevenue | number:'1.0-0' }} VNĐ
                    </strong>
                </div>
                <div class="col-6 col-md-4 d-flex justify-content-center align-items-center pe-4 ">
                    <div class="item-icon">
                        <img src="https://img.icons8.com/?size=100&id=9gf6ZL61hgEI&format=png&color=ffffff"
                            alt="icon item Dashboard" width="30" height="30">
                    </div>
                </div>
            </div>
            <hr class=" mt-1 my-0 ms-4 me-4"
                style="   background: linear-gradient(to right, #f9f9f9, #e8e8e8, #f9f9f9);; height: 7px;">

        </div>

    </div>
    <div class="col-12 col-md-6 col-xl-3 ">
        <div class="statis-item  ">
            <div class="row">
                <div class="col-6 col-md-8  d-flex flex-column ps-4 pt-2 ">
                    <span style="font-size: 0.9rem;">Revenue Month</span><span style="font-size: 0.6rem;"> ({{dataRevenueToday?.revenueTodayDate |
                  date:'dd/MM/yyyy' }})</span>
                    <strong style="font-size: 1.3rem;">{{ monthlyRevenue | number:'1.0-0' }} VNĐ
                    </strong>

                </div>
                <div class="col-6 col-md-4 d-flex justify-content-center align-items-center pe-4   ">
                    <div class="item-icon">
                      <img src="https://img.icons8.com/?size=100&id=9gf6ZL61hgEI&format=png&color=ffffff"
                           alt="icon item Dashboard" width="30" height="30">
                    </div>
                </div>
            </div>
            <hr class=" mt-1 my-0 ms-4 me-4"
                style="   background: linear-gradient(to right, #f9f9f9, #e8e8e8, #f9f9f9);; height: 7px;">
        </div>

    </div>
    <div class="col-12 col-md-6 col-xl-3 ">
        <div class="statis-item  ">
            <div class="row">
                <div class="col-6 col-md-8  d-flex flex-column ps-4 pt-2  ">
                    <span>Revenue Year</span><span style="font-size: 0.6rem;">({{dataRevenueToday?.revenueTodayDate |
                  date:'dd/MM/yyyy' }})</span>
                    <strong style="font-size: 1.3rem;">
                      {{ yearlyRevenue | number:'1.0-0' }} VNĐ
                    </strong>
                </div>
                <div class="col-6 col-md-4 d-flex justify-content-center align-items-center pe-4   ">
                    <div class="item-icon">
                      <img src="https://img.icons8.com/?size=100&id=9gf6ZL61hgEI&format=png&color=ffffff"
                           alt="icon item Dashboard" width="30" height="30">
                    </div>
                </div>
            </div>
            <hr class=" mt-1 my-0 ms-4 me-4"
                style="background: linear-gradient(to right, #f9f9f9, #e8e8e8, #f9f9f9);; height: 7px;">
        </div>

    </div>
    <div class="col-12 col-md-6 col-xl-3 ">
        <div class="statis-item  ">
            <div class="row">
                <div class="col-6 col-md-8  d-flex flex-column ps-4 pt-2  ">
                    <span>Orders Today</span><span style="font-size: 0.6rem;">

                ({{dataRevenueToday?.revenueTodayDate |
                  date:'dd/MM/yyyy' }})
                </span>
                    <strong style="font-size: 1.3rem;">{{ dataOrderToday?.totalOrder }}
                    </strong>
                </div>
                <div class="col-6 col-md-4 d-flex justify-content-center align-items-center pe-4   ">
                    <div class="item-icon">
                        <img src="https://img.icons8.com/?size=100&id=114052&format=png&color=ffffff"
                            alt="icon item Dashboard" width="30" height="30">
                    </div>
                </div>
            </div>
            <hr class=" mt-1 my-0 ms-4 me-4"
                style="   background: linear-gradient(to right, #f9f9f9, #e8e8e8, #f9f9f9);; height: 7px;">
        </div>
    </div>
<!--      <div class="col-12 col-md-12 col-lg-12 ">-->
<!--        <div class="chart-container mt-3">-->
<!--&lt;!&ndash;          <span class="fw-bold mb-2 ">Bộ lọc</span>&ndash;&gt;-->
<!--          <div class="d-flex justify-content-between w-100">-->
<!--            <div class="w-25">-->
<!--              <label for="date" class="fw-bold">Select date:</label>-->
<!--              <input id="date" type="date" class="form-control" [(ngModel)]="selectedDate" (change)="fetchDailyRevenue()">-->
<!--            </div>-->
<!--            <div class="w-25">-->
<!--              <label for="month" class="fw-bold">Select month:</label>-->
<!--              <input id="month" type="month" class="form-control" [(ngModel)]="selectedMonth" (change)="fetchMonthlyRevenue()">-->
<!--            </div>-->
<!--            <div class="w-25">-->
<!--              <label for="year" class="fw-bold">Select year</label>-->
<!--              <input id="year" type="number" min="2000" max="2100" class="form-control" [(ngModel)]="selectedYear" (change)="fetchYearlyRevenue()">-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->





    <div class="col-12 col-md-12 col-lg-12  ">
        <div class="chart-content line-chart-box mt-3">
            <span>Weekly revenue</span>
          <div class="chart-container">
            <canvas baseChart
                    [data]="revenueChartData"
                    [options]="revenueChartOptions"
                    [plugins]="revenueChartPlugins"
                    chartType="bar">
            </canvas>
          </div>

            <hr class=" mt-1 my-0 ms-4 me-4"
                style="   background: linear-gradient(to right, #f9f9f9, #e8e8e8, #f9f9f9); ">
        </div>
    </div>

    <div class="col-12  col-md-12 col-lg-12  ">
        <div class="chart-content line-chart-box  ">
            <span>Top 10 best selling products</span>
          <div class="table-responsive">
            <table class="table table-bordered table-hover">
              <thead class="table-dark text-center">
              <tr>
                <th>#</th>
                <th>Image</th>
                <th>Product Name</th>
                <th>Color</th>
                <th>Size</th>
                <th>Quantity sold</th>
                <th>Total revenue</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let product of topProducts | paginate: { itemsPerPage: 5, currentPage: currentPage }; let i = index"
                  [routerLink]="['/admin/statistical']"

                  class="clickable-row">
                <td class="text-center">{{ (currentPage - 1) * 5 + i + 1 }}</td>
                <td class="text-center">
                  <img [src]="getImageProduct(product.imageUrl)" alt="Hình ảnh" class="img-thumbnail" width="50">
                </td>
                <td>{{ product.productName }}</td>
                <td class="text-center">
                  <span class="color-box" [ngStyle]="{'background-color': product.color}"></span>
                  {{ product.color }}
                </td>
                <td class="text-center">{{ product.size }}</td>
                <td class="text-center fw-bold text-success">{{ product.totalSold }}</td>
                <td class="text-center fw-bold text-danger">{{ product.totalRevenue | number:'1.0-0' }} VNĐ</td>
              </tr>
              <tr *ngIf="topProducts.length === 0">
                <td colspan="7" class="text-center text-muted">No data</td>
              </tr>
              </tbody>
            </table>
          </div>

          <!-- Nút phân trang -->
          <div class="d-flex justify-content-center my-3">
            <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
          </div>
        </div>



            <hr class=" mt-1 my-0 ms-4 me-4"
                style="   background: linear-gradient(to right, #f9f9f9, #e8e8e8, #f9f9f9); ">

        </div>


    </div>


